%------------------------------------------------------------------------------
%                                Pre-package misc.
%------------------------------------------------------------------------------

\usepackage{color}

\interfootnotelinepenalty=10000
\sloppy

% You can tweak clickable link colors here:
\definecolor{linkcol}{rgb}{0,0,1}
\definecolor{citecol}{rgb}{0,0.5,0}
\definecolor{urlcol}{rgb}{0.3,0,0}

% Make pdflatex use letter size --md
\setlength{\pdfpagewidth}{8.5in}
\setlength{\pdfpageheight}{11in}

%------------------------------------------------------------------------------
%                                Use packages.
%------------------------------------------------------------------------------

\usepackage{tikz}
\usepackage{amsmath}
\usepackage{ragged2e}
\usepackage{cite}
\usepackage{txfonts}
\usepackage{fancyhdr}
\usepackage{amssymb}
\usepackage{fancyvrb}
\usepackage{graphicx}
\usepackage{times}
\usepackage{pifont}
\usepackage{xspace}
\usepackage{epstopdf}
%\usepackage{ctable}
%\usepackage{xcolor, colortbl}
%%\usepackage[belowskip=-10pt,aboveskip=5pt,small,labelfont=bf]{caption}
\usepackage[aboveskip=5pt,small,labelfont=bf]{caption}
\usepackage{subcaption}
% \usepackage[hyphens]{url}
\usepackage{url}

\newtheorem{theorem}{Theorem}

\DeclareCaptionType{copyrightbox}

\usepackage[bookmarks=true,%
bookmarksnumbered=true,%
colorlinks=true,%
linkcolor=linkcol,%
citecolor=citecol,%
urlcolor=urlcol,%
hypertexnames=true,%
pdfpagelabels]{hyperref}

% \usepackage{sty/algorithm2e}
\usepackage{sty/multirow}
% \usepackage{sty/flushend}
% \usepackage{sty/usenix}
\usepackage{sty/epsfig}
\usepackage{sty/endnotes}
\usepackage{sty/algorithm} 
\usepackage{sty/algorithmic}
\usepackage{listings}

\newcommand{\subparagraph}{}
\usepackage[small,compact]{sty/titlesec}

%------------------------------------------------------------------------------
%                                Space savers.
%------------------------------------------------------------------------------
%==========================================
%rename listing
\renewcommand\lstlistingname{Code}
%==========================================
% \SetAlFnt{\small}
% \SetAlCapFnt{\small}
% \SetAlCapNameFnt{\small}
%%\SetVlineSkip{0pt}

% \setlength\floatsep{5pt}
% \setlength\textfloatsep{5pt}
% \setlength\intextsep{5pt}

% Use a smaller font size for URLs:
\makeatletter
\def\url@myurlstyle{%
   \@ifundefined{selectfont}{\def\UrlFont{\small}}{\def\UrlFont{\small}}}
   \makeatother
\urlstyle{myurl}

%------------------------------------------------------------------------------
%                                Misc.
%------------------------------------------------------------------------------

% This adds ':' to the characters after which not to break URLs, and
% defines a smaller typewriter font. --cpk
% changed small to sf -- md
\def\UrlNoBreaks{\do:\do\(\do\[\do\{\do\<}%
\def\UrlFont{\small\ttfamily}
\def\UrlOrds{\do\*\do\~}%

% For referencing sections, Vern-style
\newcommand\xref[1]{\S~\ref{#1}}

\newcommand\fref[1]{Fig.~\ref{#1}}

% benchmarks
\def\bloat{\texttt{bloat}}
\def\pmd{\texttt{pmd}}
\def\chart{\texttt{chart}}
\def\avrora{\texttt{avrora}}
\def\hasnext{\texttt{HasNext}}
\def\unsafeiter{\texttt{FailSafeIter}}
\def\hashset{\texttt{HashSet}}
\def\dacapo{\textsc{DaCapo}}
\def\javamop{\textsc{JavaMop}}
\def\soot{\textsc{Soot}}
\def\java{\textsc{Java}}
\def\aspectj{\textsc{AspectJ}}

% Black filled circles with white number on it
% See Comprehensive LaTeX Symbol List --cpk
\def\blackI{\ding{182}}
\def\blackII{\ding{183}}
\def\blackIII{\ding{184}}
\def\blackIV{\ding{185}}
\def\blackV{\ding{186}}
\def\blackVI{\ding{187}}

\def\first{({\it i})\xspace }
\def\second{({\it ii})\xspace }
\def\third{({\it iii})\xspace }
\def\fourth{({\it iv})\xspace }
\def\fifth{({\it v})\xspace }

% Fine-tuning for table spacing. --cpk
\def\TblSpT{\rule[-1ex]{0pt}{0pt}}
\def\TblSpB{\rule{0pt}{2.5ex}}

% Squeezing out some space. --cpk
% http://www-h.eng.cam.ac.uk/help/tpl/textprocessing/squeeze.html
%
%\renewcommand\subfigtopskip{0pt}
%\renewcommand\subfigbottomskip{5pt}
%\renewcommand\subfigcapskip{0pt}
%\renewcommand\floatpagefraction{.9}
%\renewcommand\topfraction{.9}
%\renewcommand\bottomfraction{.9}
%\renewcommand\textfraction{.1}
%\setlength{\parskip}{0em}
%\frenchspacing

%------------------------------------------------------------------------------
%                                Space savers.
%------------------------------------------------------------------------------
% This mylist environment indents items, and saves less space than the above.
\newcounter{myctr}
\newenvironment{mylist}{\begin{list}{(\textbf{\arabic{myctr}})}
{\usecounter{myctr}
\setlength{\topsep}{1mm}\setlength{\itemsep}{0.5mm}
\setlength{\parsep}{0.5mm}
\setlength{\itemindent}{0mm}\setlength{\partopsep}{0mm}
\setlength{\labelwidth}{-2mm}
\setlength{\leftmargin}{0mm}}}{\end{list}}


\newcounter{myctr1}
\newenvironment{challenges}{\begin{list}{\textbf{C\arabic{myctr1}.}}
{\usecounter{myctr1}
\setlength{\topsep}{1mm}\setlength{\itemsep}{0.5mm}
\setlength{\parsep}{0.5mm}
\setlength{\itemindent}{0mm}\setlength{\partopsep}{0mm}
\setlength{\labelwidth}{-2mm}
\setlength{\leftmargin}{0mm}}}{\end{list}}

% Space saving List environment for itemizing.
\newenvironment{mybullet}{\begin{list}{$\bullet$}
{\setlength{\topsep}{1mm}\setlength{\itemsep}{0.5mm}
\setlength{\parsep}{0.5mm}
\setlength{\itemindent}{0mm}\setlength{\partopsep}{0mm}
\setlength{\labelwidth}{-2mm}
\setlength{\leftmargin}{0mm}}}{\end{list}}

\newcommand{\myparagraph}[1]{\noindent{\scshape \bfseries #1.}}

%------------------------------------------------------------------------------
%                               Fancy header setup.
%------------------------------------------------------------------------------
%
\pagestyle{fancyplain}
\lhead{}
\lfoot{}
\chead{}
\rhead{}
\cfoot{\thepage}
%%\rfoot{{\scriptsize \today}}
\renewcommand{\headrulewidth}{0pt}

%\setlength{\intextsep}{10pt plus 2pt minus 2pt}

%% Reducing margins further -- md
%%\addtolength{\hoffset}{-0.25in}
%%\addtolength{\textwidth}{0.5in}
%%\addtolength{\voffset}{-0.25in}
%%\addtolength{\textheight}{0.4in}

%------------------------------------------------------------------------------
%                                New commands
%------------------------------------------------------------------------------

% For notes to authors:
\newcommand{\note}[1]{{\textcolor{red}{[\textit{\textbf{TODO: #1}}]}}}
\newcommand{\code}[1]{\texttt{\small{#1}}}
% \newcommand{\code}[1]{\texttt{\scriptsize{#1}}}
\newcommand{\mycomment}[1]{}
\newcommand{\ignore}[1]{}
\newcommand{\todo}[1]{\textbf{TODO: #1}}
\newcommand{\mytab}{~~~~}
\newcommand{\sspace}{~}
\newcommand{\etal}{\textit{et al.}}
\newcommand{\eg}{{e.g.,}}
\newcommand{\ie}{{i.e.,}}
\newcommand{\lno}[1]{{\tiny{\textbf{(#1)~~}}}}

\newcommand{\docker}{Docker}
\newcommand{\tikzcircle}[3][black,fill=white]{\tikz[baseline=-0.75ex]\draw[#1,
radius=#2] (0,0) circle node[text=black] {\scriptsize #3};}%
%%\newcommand*\circled[1]{\tikz[baseline=(char.base)]{\node[shape=circle,draw,
%%inner sep=2pt] (char) {#1};}}
\newcommand{\rulesep}{\unskip\ \vrule\ }

% \SetEndCharOfAlgoLine{}

\renewcommand{\thetable}{\arabic{table}}

\newcommand*{\refname}{Bibliography}

\def\yes{\ding{51}}
\def\no{\ding{55}}

% The space-saving sledgehammer. -- md
%\renewcommand{\baselinestretch}{0.95}

\hypersetup{
pdfauthor = {},
pdftitle = {\papertitle},
pdfkeywords = {\paperkeywords},
pdfcreator = {LaTeX with hyperref package},
pdfproducer = {pdflatex}}

%lst
\definecolor{dkgreen}{rgb}{0,0.6,0}
\definecolor{gray}{rgb}{0.5,0.5,0.5}
\definecolor{mauve}{rgb}{0.58,0,0.82}

\lstset{%frame=tb,
  captionpos=b,
  language=Java,
  aboveskip=10pt,
  belowskip=0pt,
  abovecaptionskip=5pt,
  belowcaptionskip=5pt,
  numberblanklines=false,
  showstringspaces=false,
  columns=flexible,
  basicstyle={\scriptsize\ttfamily\bfseries\color{black}},
  numbers= left,
  numbersep=5pt,
  %frame=single,
  numberstyle=\tiny\color{black},
  keywordstyle=\bfseries\color{blue},
  commentstyle=\color{dkgreen},
  stringstyle=\color{mauve},
  breaklines=true,
  breakatwhitespace=true
  tabsize=2,
  xleftmargin=2em,
  morecomment=[l]{//},
  escapeinside={<@}{@>},
}